{"version":3,"sources":["Components/Searchbar/Searchbar.styles.js","Components/Searchbar/Searchbar.js","Components/Modal/Modal.styles.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.styles.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.styles.js","Components/Button/Button.js","Components/Loader/Loader.styles.js","Components/Loader/Loader.js","Components/ImageGallery/ImageGallery.styles.js","Components/ImageGallery/ImageGallery.js","Components/App/App.styles.js","Components/App/App.js","index.js"],"names":["Header","styled","header","Form","form","FormBtn","button","FormLabel","span","FormInput","input","Searchbar","state","value","submitForm","e","preventDefault","trim","props","change","setState","handleChange","target","toLowerCase","onSubmit","this","type","className","autocomplete","autoFocus","placeholder","onChange","Component","Overlay","div","ModalDiv","IMG","img","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleClickOnBackdrop","currentTarget","window","addEventListener","removeEventListener","largeImg","alt","createPortal","onClick","src","GalleryItem","li","Image","ImageGalleryItem","modalWindow","largeUrl","openModal","elementId","dataset","id","modalImg","photos","filter","photo","forEach","elem","largeImageURL","tags","toggleModal","map","webformatURL","Btn","Button","click","LoaderDiv","LoaderContainer","color","height","width","timeout","List","ul","KEY","ImageGallery","page","isLoader","addPhotosOnButtonClick","nextPage","fetch","query","then","res","json","response","hits","finally","scrollToTop","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","length","Loader","Container","article","App","getQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.39fb1be5.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nconst Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst FormBtn = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst FormLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst FormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport { Header, Form, FormBtn, FormLabel, FormInput };\n","import React, { Component } from \"react\";\nimport {\n  Header,\n  Form,\n  FormBtn,\n  FormLabel,\n  FormInput,\n} from \"./Searchbar.styles\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  submitForm = (e) => {\n    e.preventDefault();\n\n    if (this.state.value.trim() === \"\") {\n      // react-toastify вставить\n      return;\n    }\n\n    this.props.change(this.state.value);\n    this.setState({ value: \"\" });\n  };\n\n  handleChange = (e) => {\n    this.setState({ value: e.target.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <Header>\n        <Form onSubmit={this.submitForm}>\n          <FormBtn type=\"submit\">\n            <FormLabel>Search</FormLabel>\n          </FormBtn>\n\n          <FormInput\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autocomplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n            onChange={this.handleChange}\n          />\n        </Form>\n      </Header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styled from \"@emotion/styled\";\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nconst ModalDiv = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n\nconst IMG = styled.img`\n  display: block;\n  max-width: 100%;\n  height: auto;\n`;\n\nexport { Overlay, ModalDiv, IMG };\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Overlay, ModalDiv, IMG } from \"./Modal.styles\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  handleClickOnBackdrop = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { largeImg, alt } = this.props;\n    return createPortal(\n      <Overlay onClick={this.handleClickOnBackdrop}>\n        <ModalDiv>\n          <IMG src={largeImg} alt={alt} />\n        </ModalDiv>\n      </Overlay>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import styled from \"@emotion/styled\";\n\nconst GalleryItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nconst Image = styled.img`\n  display: block;\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nexport { Image, GalleryItem };\n","import React, { Component } from \"react\";\nimport Modal from \"../Modal\";\nimport { Image, GalleryItem } from \"./ImageGalleryItem.styles\";\n\nclass ImageGalleryItem extends Component {\n  state = {\n    modalWindow: false,\n    largeUrl: \"\",\n    alt: \"\",\n  };\n\n  openModal = (e) => {\n    const elementId = +e.target.dataset.id;\n    const modalImg = this.props.photos.filter((photo) => {\n      return photo.id === elementId;\n    });\n    modalImg?.forEach((elem) => {\n      this.setState({ largeUrl: elem.largeImageURL, alt: elem.tags });\n    });\n    this.setState({ modalWindow: true });\n  };\n\n  toggleModal = () => {\n    this.setState(({ modalWindow }) => ({ modalWindow: !modalWindow }));\n  };\n\n  render() {\n    const { photos } = this.props;\n    const { modalWindow, largeUrl, alt } = this.state;\n    return (\n      <>\n        {photos &&\n          photos.map(({ id, webformatURL, tags }) => (\n            <GalleryItem key={id}>\n              <Image\n                src={webformatURL}\n                alt={tags}\n                data-id={id}\n                onClick={this.openModal}\n              />\n            </GalleryItem>\n          ))}\n        {modalWindow && (\n          <Modal largeImg={largeUrl} alt={alt} closeModal={this.toggleModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import styled from \"@emotion/styled\";\n\nconst Btn = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover {\n    background-color: #303f9f;\n  }\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n\nexport { Btn };\n","import React from \"react\";\nimport { Btn } from \"./Button.styles\";\n\nfunction Button({ click }) {\n  return (\n    <Btn type=\"button\" onClick={click}>\n      Load more...\n    </Btn>\n  );\n}\n\nexport default Button;\n","import styled from \"@emotion/styled\";\n\nexport const LoaderDiv = styled.div`\n  margin: 0 auto;\n`;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { LoaderDiv } from \"./Loader.styles\";\n\nfunction LoaderContainer() {\n  return (\n    <LoaderDiv>\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={200}\n        width={200}\n        timeout={3000}\n      />\n    </LoaderDiv>\n  );\n}\n\nexport default LoaderContainer;\n","import styled from \"@emotion/styled\";\n\nconst List = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport { List };\n","import React, { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport Button from \"../Button\";\nimport LoaderContainer from \"../Loader\";\nimport { List } from \"./ImageGallery.styles\";\n\nconst KEY = \"22616220-eca5f4b2df7adfb59c540c753\";\n\nclass ImageGallery extends Component {\n  state = {\n    photos: [],\n    page: 1,\n    isLoader: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.query !== this.props.query) {\n      this.setState({ isLoader: true, page: 1 });\n      fetch(\n        `https://pixabay.com/api/?q=${\n          this.props.query\n        }&page=${1}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((res) => res.json())\n        .then((response) => {\n          this.setState({ photos: response.hits, isLoader: false });\n        });\n    }\n  }\n\n  addPhotosOnButtonClick = () => {\n    let nextPage = this.state.page + 1;\n    this.setState({ page: nextPage, isLoader: true });\n    fetch(\n      `https://pixabay.com/api/?q=${this.props.query}&page=${nextPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((res) => res.json())\n      .then((response) => {\n        this.setState({\n          photos: [...this.state.photos, ...response.hits],\n          isLoader: false,\n        });\n      })\n      .finally(() => {\n        this.scrollToTop();\n      });\n  };\n\n  scrollToTop = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <List>\n          <ImageGalleryItem photos={this.state.photos} />\n        </List>\n        {this.state.photos.length > 0 && (\n          <Button click={this.addPhotosOnButtonClick} />\n        )}\n        {this.state.isLoader && <LoaderContainer />}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import styled from \"@emotion/styled\";\n\nconst Container = styled.article`\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n  color: #212121;\n  background-color: #fff;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\nexport { Container };\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar\";\nimport ImageGallery from \"../ImageGallery\";\nimport { Container } from \"./App.styles\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n  };\n\n  getQuery = (value) => {\n    this.setState({ query: value });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar change={this.getQuery} />\n        <ImageGallery query={this.state.query} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}